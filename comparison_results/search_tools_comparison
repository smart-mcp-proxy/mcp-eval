{
  "report_type": "trajectory_comparison",
  "generated_at": "2025-08-26T19:26:15.492093",
  "scenario": {
    "name": "Search MCP Tools",
    "description": "User wants to find tools that can help with system environment variables",
    "user_intent": "I need to find tools that can help me print environment variables or work with system environment",
    "expected_trajectory": [
      {
        "action": "retrieve_tools",
        "tool": "mcp__mcpproxy__retrieve_tools",
        "args": {
          "query": "environment variables print"
        }
      },
      {
        "action": "use_proxy_tool",
        "tool": "mcp__mcpproxy__everything-2__printEnv",
        "args": {}
      }
    ]
  },
  "evaluation_metrics": {
    "overall_score": 0.6399999999999999,
    "tool_trajectory_score": 0.5499999999999999,
    "success_status_match": true,
    "execution_time_diff_seconds": 0.0,
    "tool_count_difference": -1,
    "pass_threshold": 0.8,
    "result": "FAIL"
  },
  "current_execution": {
    "success": true,
    "execution_time": 0.0,
    "tool_calls_count": 2,
    "tool_calls": [
      {
        "tool_name": "mcp__mcpproxy__retrieve_tools",
        "tool_id": "toolu_019oHkZyfWcyjgvqgu9xUjzz",
        "tool_input": {
          "query": "print environment variables system environment management"
        },
        "timestamp": "2025-08-26T19:26:05.561682",
        "response": {
          "content": [
            {
              "type": "text",
              "text": [
                {
                  "type": "text",
                  "text": "{\"query\":\"print environment variables system environment management\",\"tools\":[{\"description\":\"Prints all environment variables, helpful for debugging MCP server configuration\",\"inputSchema\":{\"properties\":{},\"type\":\"object\"},\"name\":\"printEnv\",\"score\":0.09426890053326158,\"server\":\"everything-2\"}],\"total\":1}"
                }
              ]
            }
          ],
          "is_error": null
        },
        "error": null
      },
      {
        "tool_name": "mcp__mcpproxy__call_tool",
        "tool_id": "toolu_01LgkcrXCxNE3sVxK9y4Hdjy",
        "tool_input": {
          "name": "everything-2:printEnv",
          "args_json": "{}"
        },
        "timestamp": "2025-08-26T19:26:10.143206",
        "response": {
          "content": [
            {
              "type": "text",
              "text": [
                {
                  "type": "text",
                  "text": "{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"NODE_VERSION\\\": \\\"22.14.0\\\",\\n  \\\"HOSTNAME\\\": \\\"a742283172d1\\\",\\n  \\\"YARN_VERSION\\\": \\\"1.22.22\\\",\\n  \\\"SHLVL\\\": \\\"1\\\",\\n  \\\"HOME\\\": \\\"/root\\\",\\n  \\\"PATH\\\": \\\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\\\",\\n  \\\"PWD\\\": \\\"/app\\\",\\n  \\\"NODE_ENV\\\": \\\"production\\\"\\n}\"}]}"
                }
              ]
            }
          ],
          "is_error": null
        },
        "error": null
      }
    ],
    "error": null
  },
  "baseline_execution": {
    "scenario": "Search MCP Tools",
    "execution_time": "2025-08-26T19:22:25.909139",
    "tool_calls_count": 3,
    "tool_calls": [
      {
        "tool_name": "mcp__mcpproxy__retrieve_tools",
        "tool_id": "toolu_01U7koa4jPHjx2N8noSPHqXb",
        "tool_input": {
          "query": "environment variables system env print get set environment"
        },
        "timestamp": "2025-08-26T19:22:31.058354",
        "response": {
          "content": [
            {
              "type": "text",
              "text": [
                {
                  "type": "text",
                  "text": "{\"query\":\"environment variables system env print get set environment\",\"tools\":[{\"description\":\"Prints all environment variables, helpful for debugging MCP server configuration\",\"inputSchema\":{\"properties\":{},\"type\":\"object\"},\"name\":\"printEnv\",\"score\":0.06743966611255173,\"server\":\"everything-2\"}],\"total\":1}"
                }
              ]
            }
          ],
          "is_error": null
        },
        "error": null
      },
      {
        "tool_name": "mcp__mcpproxy__call_tool",
        "tool_id": "toolu_01DwQCWzHrrA1FmCCE247JvE",
        "tool_input": {
          "name": "everything-2:printEnv",
          "args_json": "{}"
        },
        "timestamp": "2025-08-26T19:22:36.016945",
        "response": {
          "content": [
            {
              "type": "text",
              "text": [
                {
                  "type": "text",
                  "text": "{\"content\":[{\"type\":\"text\",\"text\":\"{\\n  \\\"NODE_VERSION\\\": \\\"22.14.0\\\",\\n  \\\"HOSTNAME\\\": \\\"382e3f795324\\\",\\n  \\\"YARN_VERSION\\\": \\\"1.22.22\\\",\\n  \\\"SHLVL\\\": \\\"1\\\",\\n  \\\"HOME\\\": \\\"/root\\\",\\n  \\\"PATH\\\": \\\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\\\",\\n  \\\"PWD\\\": \\\"/app\\\",\\n  \\\"NODE_ENV\\\": \\\"production\\\"\\n}\"}]}"
                }
              ]
            }
          ],
          "is_error": null
        },
        "error": null
      },
      {
        "tool_name": "mcp__mcpproxy__retrieve_tools",
        "tool_id": "toolu_01B7vRwG1MDGKnzZRdVX5PXh",
        "tool_input": {
          "query": "set get modify update environment variables env vars"
        },
        "timestamp": "2025-08-26T19:22:41.263141",
        "response": {
          "content": [
            {
              "type": "text",
              "text": [
                {
                  "type": "text",
                  "text": "{\"query\":\"set get modify update environment variables env vars\",\"tools\":[{\"description\":\"Prints all environment variables, helpful for debugging MCP server configuration\",\"inputSchema\":{\"properties\":{},\"type\":\"object\"},\"name\":\"printEnv\",\"score\":0.02970690709960216,\"server\":\"everything-2\"}],\"total\":1}"
                }
              ]
            }
          ],
          "is_error": null
        },
        "error": null
      }
    ]
  },
  "detailed_comparison": {
    "trajectory_matches": 0.5499999999999999,
    "current_tool_count": 2,
    "baseline_tool_count": 3,
    "tool_differences": {
      "tools_added": [],
      "tools_removed": [],
      "tools_common": [
        "mcp__mcpproxy__call_tool",
        "mcp__mcpproxy__retrieve_tools"
      ],
      "parameter_differences": [
        {
          "tool_name": "mcp__mcpproxy__retrieve_tools",
          "current_params": {
            "query": "print environment variables system environment management"
          },
          "baseline_params": {
            "query": "set get modify update environment variables env vars"
          }
        }
      ]
    },
    "execution_status_comparison": {
      "current": "SUCCESS",
      "baseline": "SUCCESS"
    },
    "timestamp": "2025-08-26T19:26:15.491334"
  },
  "per_invocation_results": [
    {
      "invocation": 1,
      "score": 0.6499999999999999,
      "details": "Invocation 1: PARTIAL MATCH (similarity: 0.650)",
      "actual_tools": [
        {
          "name": "mcp__mcpproxy__retrieve_tools",
          "args": {
            "query": "print environment variables system environment management"
          },
          "similarity": 0.6499999999999999
        }
      ],
      "expected_tools": [
        {
          "name": "mcp__mcpproxy__retrieve_tools",
          "args": {
            "query": "environment variables system env print get set environment"
          }
        }
      ]
    },
    {
      "invocation": 2,
      "score": 1.0,
      "details": "Invocation 2: EXACT MATCH",
      "actual_tools": [
        {
          "name": "mcp__mcpproxy__call_tool",
          "args": {
            "name": "everything-2:printEnv",
            "args_json": "{}"
          },
          "similarity": 1.0
        }
      ],
      "expected_tools": [
        {
          "name": "mcp__mcpproxy__call_tool",
          "args": {
            "name": "everything-2:printEnv",
            "args_json": "{}"
          }
        }
      ]
    },
    {
      "invocation": 3,
      "score": 0.0,
      "details": "Invocation 3: MISSING CALL",
      "actual_tools": [],
      "expected_tools": [
        {
          "name": "mcp__mcpproxy__retrieve_tools",
          "args": {
            "query": "set get modify update environment variables env vars"
          }
        }
      ]
    }
  ],
  "recommendations": [
    "Tool trajectory mismatch detected. Review expected vs actual tool calls."
  ]
}